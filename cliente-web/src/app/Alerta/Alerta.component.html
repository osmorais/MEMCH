<app-Menu></app-Menu>
<div class="my-container">
  <ng-template #customLoadingTemplate>
    <div class="custom-class">
    </div>
  </ng-template>
  <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }" [template]="customLoadingTemplate">
  </ngx-loading>
  <div id="alertas">
    <div class="mr-auto"></div>
    <div class="form-row mt-2 mb-2">
      <div class="col-md-10">
        <p class="ml-2">ALERTAS</p>
      </div>
    </div>
    <div class="form-row mt-2 mb-2">
      <div class="col-md-3">
        <div class="form-inline mr-auto">
          <div class="form-group mb-2" style="width: 250px;">
            <input style="width: 250px;" type="text" class="form-control mr-2" placeholder="buscar"
              [(ngModel)]="filtroLista">
          </div>
        </div>
      </div>
      <div class="col-md-7">
        <input style="width: 250px;" type="text" bsDaterangepicker class="form-control mr-2" placeholder="buscar por data"
              [(ngModel)]="daterange">
      </div>
      <button type="button" class="btn btn-outline-primary" (click)="limparFiltro()">
        <i class="fas fa-broom"></i>&nbsp;Limpar Filtro
      </button>
    </div>
    <table class="table table-striped">
      <thead class="thead-light">
        <tr>
          <th>Alerta</th>
          <th>Descrição</th>
          <th>Data</th>
          <th>Regra</th>
        </tr>
      </thead>
      <tbody *ngIf="alertasFiltrados && alertasFiltrados.length">
        <tr *ngFor="let alertas of alertasFiltrados">
          <!-- <tr> -->
          <td>{{alertas.id}}</td>
          <td>{{alertas.descricao}}</td>
          <td>{{alertas.data | DateTimeFormatPipe}}</td>
          <td>{{alertas.descricaoRegra}}</td>
        </tr>
      </tbody>
      <tfoot *ngIf="!alertasFiltrados || alertasFiltrados.length < 1">
        <tr>
          <td colspan="7" class="text-center">
            Nenhum alerta encontrado!
          </td>
      </tfoot>
    </table>
  </div>
</div>